var e,t,n,r,a,o,l=Object.defineProperty,s=Object.prototype.hasOwnProperty,i=Object.getOwnPropertySymbols,c=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&u(e,n,t[n]);if(i)for(var n of i(t))c.call(t,n)&&u(e,n,t[n]);return e},m=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},d=(e,t,n)=>(m(e,t,"read from private field"),n?n.call(e):t.get(e)),h=(e,t,n,r)=>(m(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);import{r as f,F as v,A as E,f as b,a as _}from"./vendor.4f8fa021.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const r=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,o)=>{const l=new URL(e,r);if(self[t].moduleMap[l])return n(self[t].moduleMap[l]);const s=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){o(new Error(`Failed to import: ${e}`)),a(i)},onload(){n(self[t].moduleMap[l]),a(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("assets/");var y="_app_ehc26_1",w="_preview_ehc26_9",g="_column_ehc26_23",k="_config_ehc26_30",C="_helper_ehc26_43";let S;const $={};function x(e){if(!e.__FramerMetadata__)return[];const t=[];return Object.entries(e.__FramerMetadata__.exports).forEach((([n,r])=>{if(console.log(n,r),"reactComponent"!==r.type)return;const a=function(e){const t=e.framerVariables||e.framervariables;if(!t)return[];const n=[],r=JSON.parse(t);for(const a in r){const e=r[a];"string"==typeof e&&n.push(e)}return n}(r.annotations),o=e[n];t.push({component:o,exportSpecifier:n,variableProps:a})})),t}var M="_button_5fumm_1",N="_primary_5fumm_20";function P({disabled:e,text:t="Click Me",primary:n=!1,onClick:r}){return f.createElement("div",{className:M+(n&&" "+N),onClick:e?void 0:r},t)}var O="_hStack_z4htb_1",j="_vStack_z4htb_1";function R({children:e,className:t}){return f.createElement("div",{className:O+(t?" "+t:"")},e)}function D({children:e,className:t}){return f.createElement("div",{className:j+(t?" "+t:"")},e)}function F({onComponent:e}){const[t,n]=f.useState(""),[r,a]=f.useState(!1),o=f.useCallback((e=>n(e.target.value)),[]),l=f.useCallback((()=>{a(!0),function(e,t){if(!t)return e();if(void 0===S){const e=document.createElement("link").relList;S=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in $)return;$[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":S,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>__import__(t)),void 0).then((n=>{const r=x(n);if(0===r.length)throw Error("Module did not contain any components");e(p(p({},r[0]),{importURL:t}))})).catch((e=>{console.warn(e),a(!1)}))}),[e,t]),s=f.useCallback((e=>{"Enter"!==e.key&&"Return"!==e.key||l()}),[l]);return f.createElement(R,null,f.createElement("input",{disabled:r,onChange:o,onDoubleClick:()=>n("https://framer.com/m/News-Article-j4Jp.js"),onKeyDown:s,placeholder:"https://…",value:t}),f.createElement(P,{disabled:r,onClick:l,primary:!0,text:"Go"}))}!function(){const e=window;e.React=f,e.Framer=v}();var L="_componentWrapper_1rfla_1";function A({Component:e,props:t}){const n=e.defaultProps&&e.defaultProps.width?e.defaultProps.width:300,r=e.defaultProps&&e.defaultProps.height?e.defaultProps.height:200,a=(t&&t.length>0?t:[{}]).map(((t,a)=>f.createElement(E,{key:a},f.createElement(e,p({width:n,height:r},t))))),o=r*a.length+10*(a.length-1);return f.createElement("div",{className:L,style:{width:n,height:o}},f.createElement(b.Stack,{direction:"vertical",gap:10,width:n,height:o},a))}var U="_field_1phht_1";function J({children:e,label:t}){return f.createElement(R,{className:U},f.createElement("strong",null,t),e)}var W="_subtitle_bjcf1_1";function I({children:e}){return f.createElement("div",{className:W},e)}var B="_title_4i1en_1";function V({children:e}){return f.createElement("div",{className:B},e)}function z({onDataSource:e}){const[t,n]=f.useState(""),[r,a]=f.useState("root"),o=f.useCallback((e=>{n(e.target.value)}),[]),[l,s]=f.useState(null);f.useEffect((()=>{try{if("https:"!==new URL(t).protocol)return}catch(n){return}let e=!0;return fetch(t).then((e=>e.json())).then((t=>{e&&s(t)})).catch((t=>{e&&(console.warn("Could not get data:",t),s(null))})),()=>{e=!1}}),[t]);const i=f.useMemo((()=>{if(!l)return null;try{const e=new Function("root",`return ${r}`)(l);return Array.isArray(e)?e:(console.warn("Value is not array:",e),null)}catch(e){return console.warn("Could not extract value:",e.message),null}}),[l,r]),c=f.useRef(e);c.current=e,f.useEffect((()=>{var e;null==(e=c.current)||e.call(c,i?{url:t,expression:r,root:i}:null)}),[i]);const u=f.useCallback((e=>{a(e.target.value)}),[]);return f.createElement(D,null,f.createElement(V,null,"Find some data"),f.createElement(J,{label:"JSON URL"},f.createElement("input",{placeholder:"https://…",onChange:o,onDoubleClick:()=>n("https://www.spaceflightnewsapi.net/api/v2/articles"),value:t})),f.createElement(J,{label:"Expression"},f.createElement("input",{placeholder:"root.someArray",onChange:u,value:r})),f.createElement(I,null,"Pick an array value in the ",f.createElement("code",null,"root")," variable."))}function H({onChange:e,name:t}){const[n,r]=f.useState(""),a=f.useCallback((e=>{r(e.target.value)}),[]),o=`item.${t}`,l=f.useCallback((()=>{r((e=>e||o))}),[o]),s=f.useRef(e);return s.current=e,f.useEffect((()=>{var e;null==(e=s.current)||e.call(s,n)}),[n]),f.createElement(J,{label:t},f.createElement("input",{onChange:a,onDoubleClick:l,placeholder:o,value:n}))}function T({onPropChange:e,variableProps:t}){const n=f.useMemo((()=>t?t.map((t=>f.createElement(H,{key:t,onChange:n=>{e({name:t,expression:n})},name:t}))):null),[e,t]);return n?f.createElement(D,null,f.createElement(V,null,"Hook up the data"),n):f.createElement(D,null,f.createElement(V,null,"Pick a component"),f.createElement(I,null,"First, pick a component with property controls."))}class q extends f.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){return this.state.hasError?f.createElement("b",null,"Something went wrong."):this.props.children}}const G={async updateSource(e){var t;null==(t=window.parent)||t.postMessage(JSON.stringify({type:"updateSource",source:e}),"*")}};class K{constructor(){e.set(this,void 0),t.set(this,void 0),h(this,e,[]),h(this,t,['import * as React from "react";'])}addExport(t,n){d(this,e).push({exportable:t,alias:n})}addImport(e,n,r){if(!r){if("default"===e)throw Error("Alias must be specified for default imports");r=e}const a="default"===e?r:r===e?`{ ${e} }`:`{ ${e} as ${r} }`;d(this,t).push(`import ${a} from ${JSON.stringify(n)};`)}build(){return[...d(this,t),"",...this.buildExports()].join("\n")}buildExports(){return[d(this,e).map((({exportable:e,alias:t})=>e.build(t))).join("\n\n")]}}e=new WeakMap,t=new WeakMap;class Q{constructor(e,t){n.set(this,void 0),r.set(this,void 0),a.set(this,void 0),o.set(this,void 0),h(this,n,""),h(this,a,[]),h(this,o,e),h(this,r,t)}addAnnotation(e,t){d(this,a).push(`@${e} ${t}`)}build(e){return[...this.buildJSDoc(),`${e?"function":"export function"} ${d(this,o)}() {`,...this.buildBody(),"}",...this.buildDisplayName(),...this.buildExportAlias(e)].join("\n")}setBody(e){h(this,n,e.trim())}buildBody(){return d(this,n)?d(this,n).split("\n").map((e=>`  ${e}`)):[]}buildDisplayName(){return d(this,r)?["",`${d(this,o)}.displayName = ${JSON.stringify(d(this,r))};`]:[]}buildExportAlias(e){return e?e===d(this,o)?["",`export ${d(this,o)};`]:"default"===e?["",`export default ${d(this,o)};`]:["",`export { ${d(this,o)} as ${e} };`]:[]}buildJSDoc(){return 0===d(this,a).length?[]:["/**",...d(this,a).map((e=>` * ${e}`))," */"]}}function X(){const[e,t]=f.useState(null),[n,r]=f.useState(null),[a,o]=f.useState({}),l=f.useCallback((({name:e,expression:t})=>{if(t)try{const n=new Function("item",`return ${t}`);o((r=>p(p({},r),{[e]:{expression:t,extractFn:n}})))}catch(n){console.warn(`Could not use item expression "${t}":`,n.message)}else o((t=>{const{[e]:n}=t;var r;return((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&i)for(var r of i(e))t.indexOf(r)<0&&c.call(e,r)&&(n[r]=e[r]);return n})(t,[(r=e,"symbol"==typeof r?r:r+"")])}))}),[]),u=f.useMemo((()=>{if(null==n?void 0:n.root)return n.root.map((e=>{const t={};for(const r in a)try{t[r]=a[r].extractFn(e)}catch(n){console.warn(`Failed to extract item props for ${r}:`,n.message)}return t}))}),[a,n]),m=f.useMemo((()=>e&&n?function(e,t,n){const r=new K;r.addImport("Stack","framer");const a=new Q("DataComponent","My Data Component");a.addAnnotation("framerIntrinsicWidth",200),a.addAnnotation("framerIntrinsicHeight",200),r.addExport(a,"default");const o="Component";r.addImport(e.exportSpecifier,e.importURL,o);const l=[o,"key={i}"];for(const i in n)l.push(`${i}={${n[i].expression}}`);const s=`<${l.join(" ")} />`;return a.setBody(`\nconst [data, setData] = React.useState([])\nReact.useEffect(() => {\n  let active = true;\n  fetch(${JSON.stringify(t.url)})\n    .then(r => r.json())\n    .then(root => {\n      if (!active) return\n      setData(${t.expression})\n    })\n  return () => {\n    active = false;\n  }\n}, [])\nconst instances = React.useMemo(() => data.map((item, i) => {\n  return ${s}\n}), [data])\nreturn (\n  <Stack gap={10} direction="vertical" width="100%" height="100%">{instances}</Stack>\n)\n`),r.build()}(e,n,a):""),[n,e,a]),d=f.useCallback((()=>{m&&G.updateSource(m)}),[m]);return f.createElement("div",{className:y},f.createElement("div",{className:`${w} ${C}`},f.createElement(q,null,e?f.createElement(A,{Component:e.component,props:u}):f.createElement(F,{onComponent:t}))),f.createElement("div",{className:g},f.createElement("div",{className:k},f.createElement(z,{onDataSource:r}),f.createElement(T,{variableProps:null==e?void 0:e.variableProps,onPropChange:l})),f.createElement(P,{onClick:d,primary:!0,text:"Save"})))}n=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap;_.render(f.createElement(f.StrictMode,null,f.createElement(X,null)),document.getElementById("root"));
