var e=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=Object.assign;import{r as a,F as o,A as l,f as c,a as s}from"./vendor.58770692.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const r=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,o)=>{const l=new URL(e,r);if(self[t].moduleMap[l])return n(self[t].moduleMap[l]);const c=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){o(new Error(`Failed to import: ${e}`)),a(s)},onload(){n(self[t].moduleMap[l]),a(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("/assets/");var i="_app_ehc26_1",u="_preview_ehc26_9",m="_column_ehc26_23",p="_config_ehc26_30",d="_helper_ehc26_43";let h;const f={};var E="_button_5fumm_1",v="_primary_5fumm_20";function C({disabled:e,text:t="Click Me",primary:n=!1,onClick:r}){return a.createElement("div",{className:E+(n&&" "+v),onClick:e?void 0:r},t)}var _="_hStack_z4htb_1",y="_vStack_z4htb_1";function g({children:e,className:t}){return a.createElement("div",{className:_+(t?" "+t:"")},e)}function b({children:e,className:t}){return a.createElement("div",{className:y+(t?" "+t:"")},e)}function w({onComponent:e}){const[t,n]=a.useState(""),[r,o]=a.useState(!1),l=a.useCallback((e=>n(e.target.value)),[]),c=a.useCallback((()=>{o(!0),function(e,t){if(!t)return e();if(void 0===h){const e=document.createElement("link").relList;h=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in f)return;f[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":h,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>__import__(t)),void 0).then((n=>{const r=Object.keys(n).find((e=>e.match(/^[A-Z]/)))||"default";e({Component:n[r],importURL:t,identifier:r})})).catch((e=>{console.warn(e),o(!1)}))}),[e,t]),s=a.useCallback((e=>{"Enter"!==e.key&&"Return"!==e.key||c()}),[c]);return a.createElement(g,null,a.createElement("input",{disabled:r,onChange:l,onDoubleClick:()=>n("https://framer.com/m/News-Article-j4Jp.js"),onKeyDown:s,placeholder:"https://…",value:t}),a.createElement(C,{disabled:r,onClick:c,primary:!0,text:"Go"}))}!function(){const e=window;e.React=a,e.Framer=o}();var k="_componentWrapper_1rfla_1";function S({Component:e,props:t}){if(!e)return a.createElement("div",null,"Loading…");const n=e.defaultProps&&e.defaultProps.width?e.defaultProps.width:300,o=e.defaultProps&&e.defaultProps.height?e.defaultProps.height:200,s=(t&&t.length>0?t:[{}]).map(((t,c)=>a.createElement(l,{key:c},a.createElement(e,r({width:n,height:o},t))))),i=o*s.length+10*(s.length-1);return a.createElement("div",{className:k,style:{width:n,height:i}},a.createElement(c.Stack,{direction:"vertical",gap:10,width:n,height:i},s))}var $="_field_1phht_1";function x({children:e,label:t}){return a.createElement(g,{className:$},a.createElement("strong",null,t),e)}var R="_subtitle_bjcf1_1";function N({children:e}){return a.createElement("div",{className:R},e)}var j="_title_4i1en_1";function O({children:e}){return a.createElement("div",{className:j},e)}function P({onDataSource:e}){const[t,n]=a.useState(""),[r,o]=a.useState("root"),l=a.useCallback((e=>{n(e.target.value)}),[]),[c,s]=a.useState(null);a.useEffect((()=>{try{if("https:"!==new URL(t).protocol)return}catch(n){return}let e=!0;return fetch(t).then((e=>e.json())).then((t=>{e&&s(t)})).catch((t=>{e&&(console.warn("Could not get data:",t),s(null))})),()=>{e=!1}}),[t]);const i=a.useMemo((()=>{if(!c)return null;try{const e=new Function("root",`return ${r}`)(c);return Array.isArray(e)?e:(console.warn("Value is not array:",e),null)}catch(e){return console.warn("Could not extract value:",e.message),null}}),[c,r]),u=a.useRef(e);u.current=e,a.useEffect((()=>{var e;null==(e=u.current)||e.call(u,i?{url:t,expression:r,root:i}:null)}),[i]);const m=a.useCallback((e=>{o(e.target.value)}),[]);return a.createElement(b,null,a.createElement(O,null,"Find some data"),a.createElement(x,{label:"JSON URL"},a.createElement("input",{placeholder:"https://…",onChange:l,onDoubleClick:()=>n("https://www.spaceflightnewsapi.net/api/v2/articles"),value:t})),a.createElement(x,{label:"Expression"},a.createElement("input",{placeholder:"root.someArray",onChange:m,value:r})),a.createElement(N,null,"Pick an array value in the ",a.createElement("code",null,"root")," variable."))}function D({onChange:e,name:t,prop:n}){const[r,o]=a.useState(""),l=a.useCallback((e=>{o(e.target.value)}),[]),c=`item.${t}`,s=a.useCallback((()=>{o((e=>e||c))}),[c]),i=a.useRef(e);return i.current=e,a.useEffect((()=>{var e;null==(e=i.current)||e.call(i,r)}),[r]),a.createElement(x,{label:n.title||t},a.createElement("input",{onChange:l,onDoubleClick:s,placeholder:c,value:r}))}function L({onPropChange:e,propertyControls:t}){const n=a.useMemo((()=>t?Object.entries(t).map((([t,n])=>{const r=n.propName||t;return a.createElement(D,{key:r,onChange:t=>{e({name:r,expression:t})},name:r,prop:n})})):null),[e,t]);return n?a.createElement(b,null,a.createElement(O,null,"Hook up the data"),n):a.createElement(b,null,a.createElement(O,null,"Pick a component"),a.createElement(N,null,"First, pick a component with property controls."))}class M extends a.Component{constructor(){super({}),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){return this.state.hasError?a.createElement("b",null,"Something went wrong."):this.props.children}}function F(){var o;const[l,c]=a.useState(null),[s,h]=a.useState(null),[f,E]=a.useState({}),v=a.useCallback((({name:a,expression:o})=>{if(o)try{const e=new Function("item",`return ${o}`);E((t=>r(r({},t),{[a]:{expression:o,extractFn:e}})))}catch(l){console.warn(`Could not use item expression "${o}":`,l.message)}else E((r=>{const{[a]:o}=r;var l;return((r,a)=>{var o={};for(var l in r)e.call(r,l)&&a.indexOf(l)<0&&(o[l]=r[l]);if(null!=r&&t)for(var l of t(r))a.indexOf(l)<0&&n.call(r,l)&&(o[l]=r[l]);return o})(r,[(l=a,"symbol"==typeof l?l:l+"")])}))}),[]),_=a.useMemo((()=>{if(null==s?void 0:s.root)return s.root.map((e=>{const t={};for(const r in f)try{t[r]=f[r].extractFn(e)}catch(n){console.warn(`Failed to extract item props for ${r}:`,n.message)}return t}))}),[f,s]),y=a.useMemo((()=>{if(!l||!s)return"";const e=[];for(const t in f)e.push(`${t}={${f[t].expression}}`);return`\nimport * as React from "react";\nimport { Stack } from "framer";\nimport ${"default"===l.identifier?"Component":"Component"===l.identifier?`{ ${l.identifier} }`:`{ ${l.identifier} as Component }`} from "${l.importURL}";\n\n/**\n * @framerIntrinsicWidth 200\n * @framerIntrinsicHeight 200\n */\nfunction DataComponent() {\n  const [data, setData] = React.useState([])\n  React.useEffect(() => {\n    let active = true;\n    fetch("${s.url}")\n      .then(r => r.json())\n      .then(root => {\n        if (!active) return\n        setData(${s.expression})\n      })\n    return () => {\n      active = false;\n    }\n  }, [])\n  const instances = React.useMemo(() => data.map((item, i) => {\n    return <Component key={i} ${e.join(" ")} />\n  }), [data])\n  return (\n    <Stack gap={10} direction="vertical" width="100%" height="100%">{instances}</Stack>\n  )\n}\n\nDataComponent.displayName = "My Data Component";\n\nexport default DataComponent;\n    `}),[s,l,f]),g=a.useCallback((()=>{var e;y&&(null==(e=window.parent)||e.postMessage(JSON.stringify({type:"updateSource",source:y}),"*"))}),[y]);return a.createElement("div",{className:i},a.createElement("div",{className:`${u} ${d}`},a.createElement(M,null,l?a.createElement(S,{Component:l.Component,props:_}):a.createElement(w,{onComponent:c}))),a.createElement("div",{className:m},a.createElement("div",{className:p},a.createElement(P,{onDataSource:h}),a.createElement(L,{propertyControls:null==(o=null==l?void 0:l.Component)?void 0:o.propertyControls,onPropChange:v})),a.createElement(C,{onClick:g,primary:!0,text:"Save"})))}s.render(a.createElement(a.StrictMode,null,a.createElement(F,null)),document.getElementById("root"));
