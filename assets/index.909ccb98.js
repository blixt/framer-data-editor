var e=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=Object.assign;import{r as a,F as o,A as l,f as c,a as s}from"./vendor.58770692.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const r=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,o)=>{const l=new URL(e,r);if(self[t].moduleMap[l])return n(self[t].moduleMap[l]);const c=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){o(new Error(`Failed to import: ${e}`)),a(s)},onload(){n(self[t].moduleMap[l]),a(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("assets/");var i="_app_ehc26_1",u="_preview_ehc26_9",m="_column_ehc26_23",p="_config_ehc26_30",d="_helper_ehc26_43";let f;const h={};function E(e){if(!e.__FramerMetadata__)return[];const t=[];return Object.entries(e.__FramerMetadata__.exports).forEach((([n,r])=>{if(console.log(n,r),"reactComponent"!==r.type)return;const a=function(e){const t=e.framerVariables||e.framervariables;if(!t)return[];const n=[],r=JSON.parse(t);for(const a in r){const e=r[a];"string"==typeof e&&n.push(e)}return n}(r.annotations),o=e[n];t.push({component:o,exportSpecifier:n,variableProps:a})})),t}var v="_button_5fumm_1",_="_primary_5fumm_20";function C({disabled:e,text:t="Click Me",primary:n=!1,onClick:r}){return a.createElement("div",{className:v+(n&&" "+_),onClick:e?void 0:r},t)}var b="_hStack_z4htb_1",g="_vStack_z4htb_1";function y({children:e,className:t}){return a.createElement("div",{className:b+(t?" "+t:"")},e)}function w({children:e,className:t}){return a.createElement("div",{className:g+(t?" "+t:"")},e)}function k({onComponent:e}){const[t,n]=a.useState(""),[o,l]=a.useState(!1),c=a.useCallback((e=>n(e.target.value)),[]),s=a.useCallback((()=>{l(!0),function(e,t){if(!t)return e();if(void 0===f){const e=document.createElement("link").relList;f=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in h)return;h[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":f,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>__import__(t)),void 0).then((n=>{const a=E(n);if(0===a.length)throw Error("Module did not contain any components");e(r(r({},a[0]),{importURL:t}))})).catch((e=>{console.warn(e),l(!1)}))}),[e,t]),i=a.useCallback((e=>{"Enter"!==e.key&&"Return"!==e.key||s()}),[s]);return a.createElement(y,null,a.createElement("input",{disabled:o,onChange:c,onDoubleClick:()=>n("https://framer.com/m/News-Article-j4Jp.js"),onKeyDown:i,placeholder:"https://…",value:t}),a.createElement(C,{disabled:o,onClick:s,primary:!0,text:"Go"}))}!function(){const e=window;e.React=a,e.Framer=o}();var S="_componentWrapper_1rfla_1";function x({Component:e,props:t}){const n=e.defaultProps&&e.defaultProps.width?e.defaultProps.width:300,o=e.defaultProps&&e.defaultProps.height?e.defaultProps.height:200,s=(t&&t.length>0?t:[{}]).map(((t,c)=>a.createElement(l,{key:c},a.createElement(e,r({width:n,height:o},t))))),i=o*s.length+10*(s.length-1);return a.createElement("div",{className:S,style:{width:n,height:i}},a.createElement(c.Stack,{direction:"vertical",gap:10,width:n,height:i},s))}var $="_field_1phht_1";function P({children:e,label:t}){return a.createElement(y,{className:$},a.createElement("strong",null,t),e)}var R="_subtitle_bjcf1_1";function N({children:e}){return a.createElement("div",{className:R},e)}var M="_title_4i1en_1";function O({children:e}){return a.createElement("div",{className:M},e)}function j({onDataSource:e}){const[t,n]=a.useState(""),[r,o]=a.useState("root"),l=a.useCallback((e=>{n(e.target.value)}),[]),[c,s]=a.useState(null);a.useEffect((()=>{try{if("https:"!==new URL(t).protocol)return}catch(n){return}let e=!0;return fetch(t).then((e=>e.json())).then((t=>{e&&s(t)})).catch((t=>{e&&(console.warn("Could not get data:",t),s(null))})),()=>{e=!1}}),[t]);const i=a.useMemo((()=>{if(!c)return null;try{const e=new Function("root",`return ${r}`)(c);return Array.isArray(e)?e:(console.warn("Value is not array:",e),null)}catch(e){return console.warn("Could not extract value:",e.message),null}}),[c,r]),u=a.useRef(e);u.current=e,a.useEffect((()=>{var e;null==(e=u.current)||e.call(u,i?{url:t,expression:r,root:i}:null)}),[i]);const m=a.useCallback((e=>{o(e.target.value)}),[]);return a.createElement(w,null,a.createElement(O,null,"Find some data"),a.createElement(P,{label:"JSON URL"},a.createElement("input",{placeholder:"https://…",onChange:l,onDoubleClick:()=>n("https://www.spaceflightnewsapi.net/api/v2/articles"),value:t})),a.createElement(P,{label:"Expression"},a.createElement("input",{placeholder:"root.someArray",onChange:m,value:r})),a.createElement(N,null,"Pick an array value in the ",a.createElement("code",null,"root")," variable."))}function D({onChange:e,name:t}){const[n,r]=a.useState(""),o=a.useCallback((e=>{r(e.target.value)}),[]),l=`item.${t}`,c=a.useCallback((()=>{r((e=>e||l))}),[l]),s=a.useRef(e);return s.current=e,a.useEffect((()=>{var e;null==(e=s.current)||e.call(s,n)}),[n]),a.createElement(P,{label:t},a.createElement("input",{onChange:o,onDoubleClick:c,placeholder:l,value:n}))}function F({onPropChange:e,variableProps:t}){const n=a.useMemo((()=>t?t.map((t=>a.createElement(D,{key:t,onChange:n=>{e({name:t,expression:n})},name:t}))):null),[e,t]);return n?a.createElement(w,null,a.createElement(O,null,"Hook up the data"),n):a.createElement(w,null,a.createElement(O,null,"Pick a component"),a.createElement(N,null,"First, pick a component with property controls."))}class L extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){return this.state.hasError?a.createElement("b",null,"Something went wrong."):this.props.children}}function U(){const[o,l]=a.useState(null),[c,s]=a.useState(null),[f,h]=a.useState({}),E=a.useCallback((({name:a,expression:o})=>{if(o)try{const e=new Function("item",`return ${o}`);h((t=>r(r({},t),{[a]:{expression:o,extractFn:e}})))}catch(l){console.warn(`Could not use item expression "${o}":`,l.message)}else h((r=>{const{[a]:o}=r;var l;return((r,a)=>{var o={};for(var l in r)e.call(r,l)&&a.indexOf(l)<0&&(o[l]=r[l]);if(null!=r&&t)for(var l of t(r))a.indexOf(l)<0&&n.call(r,l)&&(o[l]=r[l]);return o})(r,[(l=a,"symbol"==typeof l?l:l+"")])}))}),[]),v=a.useMemo((()=>{if(null==c?void 0:c.root)return c.root.map((e=>{const t={};for(const r in f)try{t[r]=f[r].extractFn(e)}catch(n){console.warn(`Failed to extract item props for ${r}:`,n.message)}return t}))}),[f,c]),_=a.useMemo((()=>{if(!o||!c)return"";const e=[];for(const t in f)e.push(`${t}={${f[t].expression}}`);return`\nimport * as React from "react";\nimport { Stack } from "framer";\nimport ${"default"===o.exportSpecifier?"Component":"Component"===o.exportSpecifier?`{ ${o.exportSpecifier} }`:`{ ${o.exportSpecifier} as Component }`} from "${o.importURL}";\n\n/**\n * @framerIntrinsicWidth 200\n * @framerIntrinsicHeight 200\n */\nfunction DataComponent() {\n  const [data, setData] = React.useState([])\n  React.useEffect(() => {\n    let active = true;\n    fetch("${c.url}")\n      .then(r => r.json())\n      .then(root => {\n        if (!active) return\n        setData(${c.expression})\n      })\n    return () => {\n      active = false;\n    }\n  }, [])\n  const instances = React.useMemo(() => data.map((item, i) => {\n    return <Component key={i} ${e.join(" ")} />\n  }), [data])\n  return (\n    <Stack gap={10} direction="vertical" width="100%" height="100%">{instances}</Stack>\n  )\n}\n\nDataComponent.displayName = "My Data Component";\n\nexport default DataComponent;\n    `}),[c,o,f]),b=a.useCallback((()=>{var e;_&&(null==(e=window.parent)||e.postMessage(JSON.stringify({type:"updateSource",source:_}),"*"))}),[_]);return a.createElement("div",{className:i},a.createElement("div",{className:`${u} ${d}`},a.createElement(L,null,o?a.createElement(x,{Component:o.component,props:v}):a.createElement(k,{onComponent:l}))),a.createElement("div",{className:m},a.createElement("div",{className:p},a.createElement(j,{onDataSource:s}),a.createElement(F,{variableProps:null==o?void 0:o.variableProps,onPropChange:E})),a.createElement(C,{onClick:b,primary:!0,text:"Save"})))}s.render(a.createElement(a.StrictMode,null,a.createElement(U,null)),document.getElementById("root"));
